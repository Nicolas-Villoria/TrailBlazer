3. Blocking I/O and CPU work

Your background task runs heavy computations (get_segments, make_graph, etc.), which are CPU-bound and blocking.

Since FastAPI runs on asyncio, long CPU-bound work will block other requests if not offloaded.

✔️ Suggestion: Run heavy jobs in a separate process/thread (concurrent.futures.ThreadPoolExecutor or Celery/RQ + Redis).

**Database Location**: Consider placing `jobs.db` in a persistent volume
2. **Backup**: Regular backups of the jobs database
3. **Monitoring**: Set up alerts for failed jobs using the stats endpoint
4. **Cleanup**: Schedule regular cleanup of old jobs (default: 7 days)

Update Monument Router: Modify monuments.py to use the new service
Add Caching Layer: Redis for API response caching
Geographic Optimization: Consider PostGIS for production
API Endpoints: Add the new capabilities to your REST API